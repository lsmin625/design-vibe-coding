# 스케치 코드 - 일반 고객

## 프롬프트 (액터별 화면 목록 스레드에 작성)

상품 목록 및 탐색 화면(ProductListView) 스케치 코드를 프로젝트 지침을 기반으로 작성한다.
즉, **Vue 3 컴포넌트 원칙과 Bootstrap 5 스타일링 원칙을 준수**하면서 **Figma Tokens 방식으로 Style-Dictionary를 통해 웹 CSS 형식으로 구성**할 수 있도록 생성한다.

---

## AI 응답

### 상품 목록 및 탐색 화면(ProductListView) 스케치 코드

```yaml
component:
  name: ProductListView
  route: /products
  description: >
    OSS 패러디 디자인 굿즈 전체 탐색/검색 홈.
    - 상단 검색/필터 바
    - 상품 카드 그리드
    - 페이지네이션(더보기)
    - 로그인 없이도 접근 가능
    - 장바구니/상세 페이지로 이동 허브 역할

  # =========================
  # 1. STATE (Composition API)
  # =========================
  state:
    refs:
      searchKeyword: string            # 검색어 텍스트
      selectedCategory: string         # 카테고리 드롭다운 선택값
      sortOption: string               # 정렬 옵션 (popularity | newest | donationRate 등)
      priceRange:                      # 가격대 필터 (min/max)
        min: number
        max: number
      products:                        # 서버에서 가져온 상품 리스트
        - id: string
          thumbnailUrl: string
          title: string
          shortDesc: string            # 짧은 컨셉 설명 (밈/패러디 포인트)
          price: number
          likes: number                # 인기 지표 예: 좋아요/찜
          salesCount: number           # 누적 판매 수량
          donationRate: number         # 기부율 (%)
          designer:
            id: string
            nickname: string
      isLoading: boolean               # 로딩 스피너 제어
      currentPage: number
      totalPages: number

    reactive:
      filters:
        categoryList:                  # UI 렌더용 카테고리 목록
          - { value: "all", label: "전체" }
          - { value: "tshirt", label: "티셔츠" }
          - { value: "sticker", label: "스티커" }
          - { value: "mug", label: "머그컵" }
        sortOptions:
          - { value: "popularity", label: "인기순" }
          - { value: "newest", label: "신상품순" }
          - { value: "donation", label: "기부율높은순" }

  # =========================
  # 2. PROPS / EMITS
  # =========================
  props: {}
  emits:
    - selectProduct    # 상품 카드를 클릭했을 때 productId를 emit
    - addToCart        # (선택) 카드 내 장바구니 버튼을 눌렀을 때 productId emit

  # =========================
  # 3. LAYOUT STRUCTURE (template 영역)
  # =========================
  template:
    root:
      tag: div
      class:
        - "container py-4"
        - "product-list-view"
        - "bg-body"                      # Bootstrap body bg (can map to token later)
      children:

        # 3.1 페이지 헤더 (타이틀 + 서브텍스트)
        - tag: header
          class:
            - "mb-4"
          children:
            - tag: h1
              class:
                - "h4 fw-bold mb-1"
                - "text-primary"
              text: "디자인 굿즈 탐색"
            - tag: p
              class:
                - "text-muted small mb-0"
              text: "오픈소스 패러디 굿즈를 발견하고, 창작자와 프로젝트에 기여하세요."

        # 3.2 필터/검색 영역 (카드 형태)
        - tag: section
          class:
            - "card shadow-sm mb-4 border-0"
          children:
            - tag: div
              class:
                - "card-body"
              children:
                - tag: form
                  class:
                    - "row gy-3 gx-3 align-items-end"
                  attrs:
                    @submit.prevent: "applyFilters"
                  children:

                    # 검색어 입력
                    - tag: div
                      class: ["col-12", "col-md-4"]
                      children:
                        - tag: label
                          class: ["form-label", "small", "fw-semibold"]
                          attrs:
                            for: "searchKeyword"
                          text: "검색어"
                        - tag: input
                          class: ["form-control", "form-control-sm"]
                          attrs:
                            id: "searchKeyword"
                            type: "text"
                            v-model: "searchKeyword"
                            placeholder: "예: kubernetes 밈 티셔츠"
                            :style: "{ fontSize: 'var(--token-font-size-body-sm)' }"

                    # 카테고리
                    - tag: div
                      class: ["col-6", "col-md-2"]
                      children:
                        - tag: label
                          class: ["form-label", "small", "fw-semibold"]
                          attrs:
                            for: "categorySelect"
                          text: "카테고리"
                        - tag: select
                          class: ["form-select", "form-select-sm"]
                          attrs:
                            id: "categorySelect"
                            v-model: "selectedCategory"
                          children:
                            - loop: filters.categoryList
                              tag: option
                              attrs:
                                :value: "item.value"
                              textBind: "item.label"

                    # 정렬
                    - tag: div
                      class: ["col-6", "col-md-2"]
                      children:
                        - tag: label
                          class: ["form-label", "small", "fw-semibold"]
                          attrs:
                            for: "sortSelect"
                          text: "정렬"
                        - tag: select
                          class: ["form-select", "form-select-sm"]
                          attrs:
                            id: "sortSelect"
                            v-model: "sortOption"
                          children:
                            - loop: filters.sortOptions
                              tag: option
                              attrs:
                                :value: "opt.value"
                              textBind: "opt.label"

                    # 가격 (min/max)
                    - tag: div
                      class: ["col-6", "col-md-2"]
                      children:
                        - tag: label
                          class: ["form-label", "small", "fw-semibold"]
                          text: "최소 가격 (₩)"
                        - tag: input
                          class: ["form-control", "form-control-sm"]
                          attrs:
                            type: "number"
                            min: "0"
                            v-model.number: "priceRange.min"
                    - tag: div
                      class: ["col-6", "col-md-2"]
                      children:
                        - tag: label
                          class: ["form-label", "small", "fw-semibold"]
                          text: "최대 가격 (₩)"
                        - tag: input
                          class: ["form-control", "form-control-sm"]
                          attrs:
                            type: "number"
                            min: "0"
                            v-model.number: "priceRange.max"

                    # 적용 버튼
                    - tag: div
                      class: ["col-12", "col-md-12", "text-end"]
                      children:
                        - tag: button
                          class:
                            - "btn btn-primary btn-sm px-3"
                            - "fw-semibold"
                          attrs:
                            type: "submit"
                          text: "필터 적용"

        # 3.3 결과 리스트 영역
        - tag: section
          class:
            - "row g-3"
          children:
            - loop: products
              tag: div
              class:
                - "col-6 col-md-4 col-lg-3"
              children:
                - tag: article
                  class:
                    - "card h-100 border-0 shadow-sm"
                    - "product-card"
                  attrs:
                    @click: "$emit('selectProduct', item.id)"
                    :style: "{ cursor: 'pointer', backgroundColor: 'var(--token-surface-card)' }"
                  children:

                    # 썸네일
                    - tag: div
                      class:
                        - "ratio ratio-1x1 bg-light"
                        - "rounded-top"
                      attrs:
                        :style: "{ backgroundColor: 'var(--token-surface-image-bg)' }"
                      children:
                        - tag: img
                          class:
                            - "w-100 h-100 object-fit-cover rounded-top"
                          attrs:
                            :src: "item.thumbnailUrl"
                            :alt: "item.title"

                    # 카드 본문
                    - tag: div
                      class:
                        - "card-body d-flex flex-column"
                      children:
                        - tag: h2
                          class:
                            - "fs-6 fw-semibold mb-1 text-truncate"
                            - "product-title"
                          attrs:
                            :style: "{ color: 'var(--token-text-strong)' }"
                          textBind: "item.title"

                        - tag: p
                          class:
                            - "text-muted small mb-2 text-truncate-2"
                            - "product-desc"
                          attrs:
                            :style: "{ color: 'var(--token-text-secondary)' }"
                          textBind: "item.shortDesc"

                        # 디자이너 / 기부율 줄
                        - tag: div
                          class:
                            - "d-flex justify-content-between align-items-center mb-2"
                            - "small"
                          children:
                            - tag: span
                              class:
                                - "text-muted text-truncate me-1"
                              attrs:
                                :style: "{ color: 'var(--token-text-tertiary)' }"
                              textBind: "item.designer.nickname"
                            - tag: span
                              class:
                                - "badge rounded-pill bg-success-subtle text-success-emphasis"
                                - "donation-badge"
                              attrs:
                                :style: "{ backgroundColor: 'var(--token-badge-donation-bg)', color: 'var(--token-badge-donation-fg)'}"
                              textBind: "'기부 ' + item.donationRate + '%'"

                        # 가격 + 인기지표 줄
                        - tag: div
                          class:
                            - "d-flex justify-content-between align-items-end mt-auto"
                          children:
                            - tag: div
                              class:
                                - "fw-bold"
                                - "price-label"
                              attrs:
                                :style: "{ color: 'var(--token-text-price)' }"
                              textBind: "'₩ ' + item.price.toLocaleString()"
                            - tag: div
                              class:
                                - "text-muted small text-end"
                              attrs:
                                :style: "{ color: 'var(--token-text-tertiary)' }"
                              textBind: "item.likes + ' ❤️ / ' + item.salesCount + ' sold'"

                        # 장바구니 담기 버튼
                        - tag: button
                          class:
                            - "btn btn-outline-primary btn-sm w-100 mt-3"
                            - "add-cart-btn"
                          attrs:
                            type: "button"
                            @click.stop: "$emit('addToCart', item.id)"
                            :style: "{ borderColor: 'var(--token-action-primary)', color: 'var(--token-action-primary)' }"
                          text: "장바구니 담기"

        # 3.4 페이지네이션 / 더보기
        - tag: div
          class:
            - "text-center py-4"
          children:
            - tag: button
              class:
                - "btn btn-light border btn-sm px-4"
              attrs:
                type: "button"
                :disabled: "isLoading || currentPage >= totalPages"
                @click: "loadMore"
                :style: "{ backgroundColor: 'var(--token-surface-pagecontrol)', borderColor: 'var(--token-border-muted)' }"
              textBind: "isLoading ? '불러오는 중...' : '더 보기'"

  # =========================
  # 4. SCRIPT LOGIC (Composition API 개념 설계)
  # =========================
  script:
    imports:
      vue:
        - ref
        - reactive
        - onMounted
      vueRouter:
        - useRouter
        - useRoute
    setup:
      description: >
        - 라우터 쿼리(param: category, sort 등)를 읽어 초기 필터 상태를 설정
        - API 호출(fetchProducts)로 products 갱신
        - loadMore()는 currentPage 증가 후 append
        - applyFilters()는 currentPage=1로 리셋 후 다시 fetch
      methods:
        applyFilters:
          summary: >
            선택된 검색조건/필터/정렬 옵션을 기반으로 상품 목록을 다시 조회한다.
        fetchProducts:
          summary: >
            서버/스토어에서 상품 데이터를 가져와 products state를 업데이트한다.
        loadMore:
          summary: >
            다음 페이지를 불러와 products 리스트 뒤에 추가한다.
        goToDetail:
          summary: >
            $emit('selectProduct', productId) 후 라우터로 /products/:id 이동 가능.
      lifecycle:
        onMounted:
          - "fetchProducts()"

  # =========================
  # 5. STYLE (scoped) & TOKENS
  # =========================
  style:
    scoped: true
    tokens:
      # Figma Tokens → Style Dictionary → :root { --token-* } 로 변환되는 것을 가정
      # 여기서는 뷰 단에서 참조할 토큰 명세만 정의
      color:
        text-strong:        "#1a1a1a"        # var(--token-text-strong)
        text-secondary:     "#6c757d"        # var(--token-text-secondary)  (bs text-muted 계열)
        text-tertiary:      "#adb5bd"        # 회색 보조 텍스트
        text-price:         "#212529"        # 진한 본문색 (가격 강조)
        surface-card:       "#ffffff"        # 카드 배경
        surface-image-bg:   "#f8f9fa"        # 썸네일 placeholder BG
        badge-donation-bg:  "#e6f4ea"        # 기부율 뱃지 BG (연한 그린)
        badge-donation-fg:  "#198754"        # 기부율 뱃지 FG (bootstrap text-success 계열)
        action-primary:     "#0d6efd"        # 메인 브랜드 컬러 (btn-primary와 align)
        surface-pagecontrol:"#ffffff"
        border-muted:       "#dee2e6"
      radius:
        card-radius:        "0.5rem"         # rounded
      font:
        size-body-sm:       "0.875rem"       # 14px
    local_css:
      # Bootstrap 유틸리티로 안 되는 부분 (2줄 말줄임 등)만 최소한으로 정의
      - selector: ".product-desc.text-truncate-2"
        rules:
          - "display: -webkit-box;"
          - "-webkit-line-clamp: 2;"
          - "-webkit-box-orient: vertical;"
          - "overflow: hidden;"

      - selector: ".product-card"
        rules:
          - "border-radius: var(--token-radius-card-radius);"
          - "transition: box-shadow .15s ease;"
      - selector: ".product-card:hover"
        rules:
          - "box-shadow: 0 .5rem 1rem rgba(0,0,0,.08);"

      - selector: ".add-cart-btn"
        rules:
          - "font-weight: 600;"

      - selector: ".price-label"
        rules:
          - "font-size: 0.9rem;"

      - selector: ".donation-badge"
        rules:
          - "font-size: 0.7rem;"
          - "font-weight: 600;"

```
